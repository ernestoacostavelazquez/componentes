<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ejemplo Avanzado de DataTables</title>
    <!-- Incluir jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Incluir DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <!-- Incluir DataTables Buttons, Scroller, y FixedColumns -->
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/fixedcolumns/4.2.1/css/fixedColumns.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/scroller/2.1.0/css/scroller.dataTables.min.css">
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/fixedcolumns/4.2.1/js/dataTables.fixedColumns.min.js"></script>
    <script src="https://cdn.datatables.net/scroller/2.1.0/js/dataTables.scroller.min.js"></script>
    <style>
        .highlight { background-color: #ffff99; }
    </style>
</head>
<body>

<table id="example" class="display nowrap">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Edad</th>
            <th>País</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Juan</td>
            <td>28</td>
            <td>España</td>
            <td></td>
        </tr>
        <tr>
            <td>Ana</td>
            <td>30</td>
            <td>México</td>
            <td></td>
        </tr>
        <tr>
            <td>Carlos</td>
            <td>25</td>
            <td>Argentina</td>
            <td></td>
        </tr>
    </tbody>
</table>

<script>
    $(document).ready(function() {
        $('#example').DataTable({
            "pagingType": "full_numbers",
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.11.5/i18n/Spanish.json"
            },
            "dom": 'Bfrtip',
            "buttons": ['copy', 'csv', 'excel', 'pdf', 'print'],
            "fixedColumns": {
                "leftColumns": 1
            },
            "scrollX": true,
            "rowCallback": function(row, data) {
                $(row).hover(
                    function() { $(this).addClass('highlight'); },
                    function() { $(this).removeClass('highlight'); }
                );
            },
            "columnDefs": [
                {
                    "targets": -1,
                    "data": null,
                    "defaultContent": "<button class='btn-edit'>Editar</button> <button class='btn-delete'>Eliminar</button>"
                }
            ]
        });

        $('#example tbody').on('click', '.btn-edit', function() {
            let data = $('#example').DataTable().row($(this).parents('tr')).data();
            alert('Editando: ' + data[0]);
        });
    });
</script>

</body>
</html>
